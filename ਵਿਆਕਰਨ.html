<!DOCTYPE html>
<html lang="pa">
<head>
  <meta charset="UTF-8">
  <title>Punjabi Viyakaran Game üéÆ (Shuffled)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      background: #0b1020;
      color: #ffffff;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 16px;
    }

    .container {
      width: 100%;
      max-width: 750px;
      background: #141a33;
      border-radius: 16px;
      padding: 16px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.6);
    }

    h1 { font-size: 22px; margin-bottom: 4px; }
    .subtitle { font-size: 12px; opacity: 0.8; margin-bottom: 10px; }

    .status {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 10px;
      font-size: 13px;
    }

    .badge {
      background: #263056;
      padding: 4px 10px;
      border-radius: 999px;
    }

    select {
      background: #222842;
      color: white;
      border-radius: 999px;
      border: 1px solid #3a456f;
      padding: 4px 10px;
      outline: none;
    }

    .progress {
      height: 8px;
      background: #222842;
      border-radius: 999px;
      overflow: hidden;
      margin-bottom: 10px;
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #00e5ff, #00ff99);
      transition: width 0.3s;
    }

    .card {
      background: #1b2342;
      border-radius: 12px;
      padding: 12px;
    }

    .level-title { font-size: 14px; opacity: 0.9; margin-bottom: 6px; }
    .question { font-size: 16px; margin-bottom: 10px; line-height: 1.5; }

    .options { display: flex; flex-direction: column; gap: 7px; }

    button.option {
      background: #181f3b;
      border: 1px solid #2b355f;
      color: white;
      border-radius: 10px;
      padding: 8px 10px;
      font-size: 14px;
      cursor: pointer;
      text-align: left;
    }

    button.option:hover {
      box-shadow: 0 0 0 1px #2f90ff;
      transform: translateY(-1px);
    }

    button.option.correct { background: #155c34; border-color: #28c76f; }
    button.option.wrong { background: #5b1a23; border-color: #ff4d4d; }

    .feedback { margin-top: 8px; font-size: 13px; min-height: 18px; }

    .controls {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
      gap: 8px;
      flex-wrap: wrap;
    }

    .btn {
      border-radius: 999px;
      padding: 7px 14px;
      font-size: 13px;
      font-weight: 800;
      cursor: pointer;
      border: none;
    }

    .next { background: linear-gradient(90deg, #00c6ff, #0072ff); color: white; }
    .restart { background: transparent; border: 1px solid #49527a; color: #d0d6ff; }

    .summary {
      margin-top: 8px;
      text-align: center;
      font-size: 14px;
      line-height: 1.4;
    }

    .summary span { color: #3ef5ff; font-weight: 800; }

    @media (max-width: 480px) {
      h1 { font-size: 18px; }
    }
  </style>
</head>

<body>
<div class="container">

  <h1>Punjabi Viyakaran Game üéÆ</h1>
  <div class="subtitle">Options auto-shuffle ‡®π‡©Å‡©∞‡®¶‡©á ‡®π‡®® ‚úÖ</div>

  <div class="status">
    <div class="badge">‡®∏‡®ï‡©ã‡®∞: <span id="score">0</span></div>
    <div class="badge">‡®™‡©ç‡®∞‡®∏‡®º‡®®: <span id="qNo">1</span>/<span id="qTotal">1</span></div>
    <div class="badge">
      Level:
      <select id="levelSelect"></select>
    </div>
  </div>

  <div class="progress">
    <div class="progress-fill" id="progressFill"></div>
  </div>

  <div class="card">
    <div class="level-title" id="levelTitle"></div>
    <div class="question" id="questionText"></div>
    <div class="options" id="options"></div>
    <div class="feedback" id="feedback"></div>

    <div class="controls">
      <button class="btn next" id="nextBtn">‡®Ö‡®ó‡®≤‡®æ ‚ñ∂</button>
      <button class="btn restart" id="restartBtn">‡®Æ‡©Å‡©ú ‡®§‡©ã‡®Ç üîÅ</button>
    </div>
  </div>

  <div class="summary" id="summary"></div>

</div>

<script>
/* ---------------------------
   1) QUESTIONS (correct + wrongs)
   --------------------------- */
const levels = [
  {
    id: 1,
    name: "Level 1 ‚Äì Basics",
    questions: [
      { q: "‡®µ‡®ø‡®Ü‡®ï‡®∞‡®® ‡®ï‡©Ä ‡®π‡©à?", correct: "‡®≠‡®æ‡®∂‡®æ ‡®¶‡©á ‡®®‡®ø‡®Ø‡®Æ‡®æ‡®Ç ‡®¶‡®æ ‡®∏‡®Æ‡©Ç‡®π", wrong: ["‡®ï‡®µ‡®ø‡®§‡®æ ‡®≤‡®ø‡®ñ‡®£ ‡®¶‡©Ä ‡®ï‡®≤‡®æ","‡®ï‡®π‡®æ‡®£‡©Ä","‡®∏‡©∞‡®ó‡©Ä‡®§"] },
      { q: "‡®µ‡®ø‡®Ü‡®ï‡®∞‡®® ‡®ï‡®ø‡©∞‡®®‡©á ‡®™‡©ç‡®∞‡®ï‡®æ‡®∞ ‡®¶‡©Ä ‡®π‡©à?", correct: "2", wrong: ["3","4","5"] },
      { q: "‡®µ‡®ø‡®Ü‡®ï‡®∞‡®® ‡®¶‡©á ‡®ï‡®ø‡©∞‡®®‡©á ‡®≠‡®æ‡®ó ‡®π‡®®?", correct: "4", wrong: ["2","3","5"] },
      { q: "‡®µ‡®ø‡®Ü‡®ï‡®∞‡®® ‡®¶‡©Ä ‡©õ‡®∞‡©Ç‡®∞‡®§ ‡®ï‡®ø‡®â‡®Ç ‡®π‡©à?", correct: "‡®ï‡®ø‡®∏‡©á ‡®µ‡©Ä ‡®≠‡®æ‡®∂‡®æ ‡®®‡©Ç‡©∞ ‡®∂‡©Å‡©±‡®ß ‡®¨‡©ã‡®≤‡®£ ‡®Ö‡®§‡©á ‡®≤‡®ø‡®ñ‡®£ ‡®≤‡®à", wrong: ["‡®∏‡®ø‡®∞‡®´‡®º ‡®ï‡®µ‡®ø‡®§‡®æ ‡®≤‡®à","‡®á‡®§‡®ø‡®π‡®æ‡®∏ ‡®™‡©ú‡©ç‡®π‡®® ‡®≤‡®à","‡®ñ‡©á‡®° ‡®≤‡®à"] },
      { q: "‡®µ‡®ø‡®Ü‡®ï‡®∞‡®® ‡®™‡©ú‡©ç‡®π‡®®‡©Ä ‡®ï‡®ø‡®â‡®Ç ‡©õ‡®∞‡©Ç‡®∞‡©Ä ‡®π‡©à?", correct: "‡®ï‡®ø‡®∏‡©á ‡®µ‡©Ä ‡®≠‡®æ‡®∂‡®æ ‡®®‡©Ç‡©∞ ‡®∏‡®ø‡©±‡®ñ‡®£ ‡®≤‡®à", wrong: ["‡®∏‡©∞‡®ó‡©Ä‡®§ ‡®≤‡®à","‡®ó‡®£‡®ø‡®§ ‡®≤‡®à","‡®ñ‡©á‡®° ‡®≤‡®à"] },
      { q: "‡®≠‡®æ‡®∂‡®æ ‡®ï‡®ø‡©∞‡®®‡©á ‡®™‡©ç‡®∞‡®ï‡®æ‡®∞ ‡®¶‡©Ä ‡®π‡©à?", correct: "2", wrong: ["1","3","4"] },
      { q: "‡®≤‡®ø‡®ñ‡®§‡©Ä ‡®≠‡®æ‡®∂‡®æ ‡®®‡©Ç‡©∞ ‡®π‡©ã‡®∞ ‡®ï‡©Ä ‡®Ü‡®ñ‡®¶‡©á ‡®π‡®®?", correct: "‡®∏‡®æ‡®π‡®ø‡®§‡®ø‡®ï ‡®ú‡®æ‡®Ç ‡®ü‡®ï‡®∏‡®æ‡®≤‡©Ä ‡®≠‡®æ‡®∂‡®æ", wrong: ["‡®¨‡©ã‡®≤‡®ö‡®æ‡®≤ ‡®¶‡©Ä ‡®≠‡®æ‡®∂‡®æ","‡®¶‡©á‡®∏‡©Ä ‡®≠‡®æ‡®∂‡®æ","‡®ñ‡©á‡®° ‡®≠‡®æ‡®∂‡®æ"] },
      { q: "‡®Æ‡©å‡®ñ‡®ø‡®ï ‡®≠‡®æ‡®∂‡®æ ‡®®‡©Ç‡©∞ ‡®π‡©ã‡®∞ ‡®ï‡©Ä ‡®Ü‡®ñ‡®¶‡©á ‡®π‡®®?", correct: "‡®¨‡©ã‡®≤‡®ö‡®æ‡®≤ ‡®¶‡©Ä ‡®≠‡®æ‡®∂‡®æ", wrong: ["‡®∏‡®æ‡®π‡®ø‡®§‡®ø‡®ï ‡®≠‡®æ‡®∂‡®æ","‡®¶‡®∞‡®¨‡®æ‡®∞‡©Ä ‡®≠‡®æ‡®∂‡®æ","‡®ü‡®ï‡®∏‡®æ‡®≤‡©Ä ‡®≠‡®æ‡®∂‡®æ"] },
      { q: "‡®∏‡®æ‡®°‡©Ä ‡®Æ‡®æ‡®Ç ‡®¨‡©ã‡®≤‡©Ä ‡®ï‡®ø‡®π‡©ú‡©Ä ‡®π‡©à?", correct: "‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä", wrong: ["‡®π‡®ø‡©∞‡®¶‡©Ä","‡®Ö‡©∞‡®ó‡®∞‡©á‡®ú‡®º‡©Ä","‡®â‡®∞‡®¶‡©Ç"] },
      { q: "‡®∏‡®æ‡®°‡©Ä ‡®∞‡®æ‡®∂‡®ü‡®∞‡©Ä ‡®≠‡®æ‡®∂‡®æ ‡®ï‡®ø‡®π‡©ú‡©Ä ‡®π‡©à?", correct: "‡®π‡®ø‡©∞‡®¶‡©Ä", wrong: ["‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä","‡®Ö‡©∞‡®ó‡®∞‡©á‡®ú‡®º‡©Ä","‡®∏‡©∞‡®∏‡®ï‡©ç‡®∞‡®ø‡®§"] }
    ]
  },
  {
    id: 2,
    name: "Level 2 ‚Äì Gurmukhi & Grammar",
    questions: [
      { q: "‡®µ‡®ø‡®Ü‡®ï‡®∞‡®® ‡®µ‡®ø‡©±‡®ö ‡®ß‡©Å‡®®‡©Ä‡®Ü‡®Ç ‡®¶‡©Ä ‡®µ‡®ø‡®Ü‡®ñ‡®ø‡®Ü ‡®µ‡®æ‡®≤‡©á ‡®≠‡®æ‡®ó ‡®®‡©Ç‡©∞ ‡®ï‡©Ä ‡®ï‡®π‡®ø‡©∞‡®¶‡©á ‡®π‡®®?", correct: "‡®ß‡©Å‡®®‡©Ä ‡®¨‡©ã‡®ß", wrong: ["‡®∂‡®¨‡®¶ ‡®¨‡©ã‡®ß","‡®µ‡®æ‡®ï ‡®¨‡©ã‡®ß","‡®Ö‡®∞‡®• ‡®¨‡©ã‡®ß"] },
      { q: "‡®µ‡®ø‡®Ü‡®ï‡®∞‡®® ‡®µ‡®ø‡©±‡®ö ‡®∂‡®¨‡®¶‡®æ‡®Ç ‡®¶‡©Ä ‡®µ‡®ø‡®Ü‡®ñ‡®ø‡®Ü ‡®µ‡®æ‡®≥‡©á ‡®≠‡®æ‡®ó ‡®®‡©Ç‡©∞ ‡®ï‡©Ä ‡®ï‡®π‡®ø‡©∞‡®¶‡©á ‡®π‡®®?", correct: "‡®∂‡®¨‡®¶ ‡®¨‡©ã‡®ß", wrong: ["‡®ß‡©Å‡®®‡©Ä ‡®¨‡©ã‡®ß","‡®µ‡®æ‡®ï ‡®¨‡©ã‡®ß","‡®Ö‡®∞‡®• ‡®¨‡©ã‡®ß"] },
      { q: "‡®µ‡®ø‡®Ü‡®ï‡®∞‡®® ‡®µ‡®ø‡©±‡®ö ‡®µ‡®æ‡®ï ‡®¶‡©Ä ‡®µ‡®ø‡®Ü‡®ñ‡®ø‡®Ü ‡®µ‡®æ‡®≥‡©á ‡®≠‡®æ‡®ó ‡®®‡©Ç‡©∞ ‡®ï‡©Ä ‡®Ü‡®ñ‡®¶‡©á ‡®π‡®®?", correct: "‡®µ‡®æ‡®ï ‡®¨‡©ã‡®ß", wrong: ["‡®∂‡®¨‡®¶ ‡®¨‡©ã‡®ß","‡®ß‡©Å‡®®‡©Ä ‡®¨‡©ã‡®ß","‡®Ö‡®∞‡®• ‡®¨‡©ã‡®ß"] },
      { q: "‡®µ‡®ø‡®Ü‡®ï‡®∞‡®® ‡®µ‡®ø‡©±‡®ö ‡®Ö‡®∞‡®•‡®æ‡®Ç ‡®¶‡©Ä ‡®µ‡®ø‡®Ü‡®ñ‡®ø‡®Ü ‡®µ‡®æ‡®≥‡©á ‡®≠‡®æ‡®ó ‡®®‡©Ç‡©∞ ‡®ï‡©Ä ‡®Ü‡®ñ‡®¶‡©á ‡®π‡®®?", correct: "‡®Ö‡®∞‡®• ‡®¨‡©ã‡®ß", wrong: ["‡®ß‡©Å‡®®‡©Ä ‡®¨‡©ã‡®ß","‡®∂‡®¨‡®¶ ‡®¨‡©ã‡®ß","‡®µ‡®æ‡®ï ‡®¨‡©ã‡®ß"] },
      { q: "‡®™‡©Å‡®∞‡®æ‡®§‡®® ‡®ó‡©Å‡®∞‡®Æ‡©Å‡®ñ‡©Ä ‡®µ‡®ø‡©±‡®ö ‡®ï‡®ø‡©∞‡®®‡©á ‡®Ö‡©±‡®ñ‡®∞ ‡®∏‡®®?", correct: "35", wrong: ["32","41","52"] },
      { q: "‡®Ö‡®ú‡©ã‡®ï‡©Ä ‡®ó‡©Å‡®∞‡®Æ‡©Å‡®ñ‡©Ä ‡®µ‡®ø‡©±‡®ö ‡®ï‡®ø‡©∞‡®®‡©á ‡®Ö‡©±‡®ñ‡®∞ ‡®π‡®®?", correct: "41", wrong: ["35","38","45"] },
      { q: "‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä ‡®µ‡®ø‡©±‡®ö ‡®ï‡®ø‡©∞‡®®‡©á ‡®∏‡®µ‡®∞ ‡®Ö‡©±‡®ñ‡®∞ ‡®π‡®®?", correct: "3", wrong: ["5","7","10"] },
      { q: "‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä ‡®µ‡®ø‡©±‡®ö ‡®ï‡®ø‡©∞‡®®‡©á ‡®µ‡®ø‡®Ö‡©∞‡®ú‡®® ‡®Ö‡©±‡®ñ‡®∞ ‡®π‡®®?", correct: "38", wrong: ["35","41","30"] },
      { q: "‡®ó‡©Å‡®∞‡®Æ‡©Å‡®ñ‡©Ä ‡®µ‡®ø‡©±‡®ö ‡®Ö‡®®‡©Å‡®®‡®æ‡®∏‡®ï‡©Ä ‡®Ö‡©±‡®ñ‡®∞ ‡®ï‡®ø‡©∞‡®®‡©á ‡®π‡®®?", correct: "5", wrong: ["3","7","10"] },
      { q: "‡®ó‡©Å‡®∞‡®Æ‡©Å‡®ñ‡©Ä ‡®µ‡®ø‡©±‡®ö ‡®¶‡©Å‡©±‡®§ ‡®Ö‡©±‡®ñ‡®∞ ‡®ï‡®ø‡©∞‡®®‡©á ‡®π‡®®?", correct: "3", wrong: ["1","2","5"] }
    ]
  }
];

/* ---------------------------
   2) SHUFFLE helper
   --------------------------- */
function shuffleArray(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

/* ---------------------------
   3) GAME STATE
   --------------------------- */
let levelIndex = 0;
let qIndex = 0;
let score = 0;
let answered = false;

// We store shuffled options per question so it doesn't reshuffle mid-question
let preparedQuestions = [];

const scoreEl = document.getElementById("score");
const qNoEl = document.getElementById("qNo");
const qTotalEl = document.getElementById("qTotal");
const levelSelectEl = document.getElementById("levelSelect");
const levelTitleEl = document.getElementById("levelTitle");
const questionEl = document.getElementById("questionText");
const optionsEl = document.getElementById("options");
const feedbackEl = document.getElementById("feedback");
const progressEl = document.getElementById("progressFill");
const summaryEl = document.getElementById("summary");

const nextBtn = document.getElementById("nextBtn");
const restartBtn = document.getElementById("restartBtn");

/* ---------------------------
   4) INIT LEVEL DROPDOWN
   --------------------------- */
levels.forEach((lvl, idx) => {
  const opt = document.createElement("option");
  opt.value = idx;
  opt.textContent = `Level ${lvl.id}: ${lvl.name}`;
  levelSelectEl.appendChild(opt);
});

levelSelectEl.addEventListener("change", () => {
  levelIndex = parseInt(levelSelectEl.value, 10);
  startLevel();
});

/* ---------------------------
   5) PREPARE QUESTIONS (shuffle options and compute correctIndex)
   --------------------------- */
function prepareLevelQuestions() {
  const lvl = levels[levelIndex];
  preparedQuestions = lvl.questions.map((item) => {
    const opts = [item.correct, ...item.wrong];
    shuffleArray(opts);
    const correctIndex = opts.indexOf(item.correct);
    return {
      q: item.q,
      options: opts,
      correctIndex
    };
  });
}

/* ---------------------------
   6) START / LOAD
   --------------------------- */
function startLevel() {
  qIndex = 0;
  score = 0;
  answered = false;
  scoreEl.textContent = score;
  summaryEl.textContent = "";

  prepareLevelQuestions();

  const lvl = levels[levelIndex];
  qTotalEl.textContent = preparedQuestions.length;
  levelTitleEl.textContent = `Level ${lvl.id}: ${lvl.name}`;

  loadQuestion();
}

function loadQuestion() {
  const lvl = levels[levelIndex];
  const Q = preparedQuestions[qIndex];

  qNoEl.textContent = qIndex + 1;
  questionEl.textContent = Q.q;
  feedbackEl.textContent = "";
  optionsEl.innerHTML = "";
  answered = false;

  const percent = (qIndex / preparedQuestions.length) * 100;
  progressEl.style.width = percent + "%";

  Q.options.forEach((text, idx) => {
    const btn = document.createElement("button");
    btn.className = "option";
    btn.textContent = text;
    btn.addEventListener("click", () => handleAnswer(idx));
    optionsEl.appendChild(btn);
  });
}

/* ---------------------------
   7) ANSWER
   --------------------------- */
function handleAnswer(selectedIndex) {
  if (answered) return;
  answered = true;

  const Q = preparedQuestions[qIndex];
  const buttons = [...optionsEl.children];

  buttons.forEach((b, idx) => {
    if (idx === Q.correctIndex) b.classList.add("correct");
    if (idx === selectedIndex && idx !== Q.correctIndex) b.classList.add("wrong");
  });

  if (selectedIndex === Q.correctIndex) {
    score++;
    scoreEl.textContent = score;
    feedbackEl.textContent = "‚úî ‡®∏‡®π‡©Ä ‡®ú‡®µ‡®æ‡®¨!";
  } else {
    feedbackEl.textContent = "‚úò ‡®ó‡®≤‡®§ ‡®ú‡®µ‡®æ‡®¨‡•§";
  }
}

/* ---------------------------
   8) NEXT / RESTART
   --------------------------- */
nextBtn.addEventListener("click", () => {
  if (qIndex < preparedQuestions.length - 1) {
    qIndex++;
    loadQuestion();
  } else {
    progressEl.style.width = "100%";
    summaryEl.innerHTML = `‚úÖ Level ‡®Æ‡©Å‡®ï‡©∞‡®Æ‡®≤! ‡®§‡©Å‡®∏‡©Ä‡®Ç <span>${score}</span> / <span>${preparedQuestions.length}</span> ‡®∏‡®π‡©Ä ‡®ú‡®µ‡®æ‡®¨ ‡®¶‡®ø‡©±‡®§‡©á ‡®π‡®®‡•§`;
  }
});

restartBtn.addEventListener("click", startLevel);

/* ---------------------------
   9) START GAME
   --------------------------- */
startLevel();
</script>

</body>
</html>