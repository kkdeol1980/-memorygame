<!DOCTYPE html>
<html lang="pa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡®µ‡®ø‡®∏‡®∞‡®æ‡®Æ-‡®ö‡®ø‡©∞‡®®‡©ç‡®π Drag & Drop ‡®ó‡©á‡®Æ</title>

<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Gurmukhi:wght@500;700&display=swap" rel="stylesheet">

<style>
  body{
    margin:0;
    font-family:"Noto Sans Gurmukhi", Arial, sans-serif;
    background:linear-gradient(135deg,#c3ecf7,#f5f7fa);
    text-align:center;
  }
  h1{margin:10px 0;color:#2d3436;font-size:26px;}
  .instructions{font-size:14px;color:#333;margin-bottom:10px;}

  .container{
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:14px;
    padding:10px;
  }

  /* draggable names */
  .name{
    padding:10px 14px;
    border-radius:14px;
    cursor:grab;
    font-weight:700;
    color:#fff;
    box-shadow:0 4px 10px rgba(0,0,0,.25);
    user-select:none;
    -webkit-user-select:none;
    touch-action:none;
    position:relative;
    z-index:2;
  }
  .name:active{ cursor:grabbing; }

  /* multicolor names */
  .name:nth-child(1){background:#e17055}
  .name:nth-child(2){background:#6c5ce7}
  .name:nth-child(3){background:#00b894}
  .name:nth-child(4){background:#fdcb6e;color:#000}
  .name:nth-child(5){background:#0984e3}
  .name:nth-child(6){background:#e84393}
  .name:nth-child(7){background:#2ecc71}
  .name:nth-child(8){background:#d63031}
  .name:nth-child(9){background:#00cec9}
  .name:nth-child(10){background:#fd79a8}
  .name:nth-child(11){background:#636e72}
  .name:nth-child(12){background:#fab1a0}
  .name:nth-child(13){background:#74b9ff}

  /* star boxes */
  .star{
    width:90px;
    height:90px;
    clip-path:polygon(
      50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,
      50% 70%,21% 91%,32% 57%,2% 35%,39% 35%
    );
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:24px;
    font-weight:800;
    color:#fff;
    box-shadow:0 6px 14px rgba(0,0,0,.3);
    touch-action:none;
    user-select:none;
    -webkit-user-select:none;
    position:relative;
    z-index:1;
  }

  /* multicolor stars */
  .star:nth-child(1){background:#ff7675}
  .star:nth-child(2){background:#a29bfe}
  .star:nth-child(3){background:#55efc4}
  .star:nth-child(4){background:#ffeaa7;color:#000}
  .star:nth-child(5){background:#74b9ff}
  .star:nth-child(6){background:#fd79a8}
  .star:nth-child(7){background:#00b894}
  .star:nth-child(8){background:#e17055}
  .star:nth-child(9){background:#00cec9}
  .star:nth-child(10){background:#fab1a0}
  .star:nth-child(11){background:#636e72}
  .star:nth-child(12){background:#fdcb6e;color:#000}
  .star:nth-child(13){background:#6c5ce7}

  .correct{background:#00b894!important;}

  footer{font-size:12px;margin:8px;color:#333;}
</style>
</head>

<body>

<h1>‚≠ê ‡®µ‡®ø‡®∏‡®∞‡®æ‡®Æ-‡®ö‡®ø‡©∞‡®®‡©ç‡®π Drag & Drop ‚≠ê</h1>
<div class="instructions">‡®®‡®æ‡®Ç‡®µ ‡®®‡©Ç‡©∞ ‡®∏‡®π‡©Ä ‡®ö‡®ø‡©∞‡®®‡©ç‡®π ‡®µ‡®æ‡®≤‡©á ‡®∏‡®ü‡®æ‡®∞ ‡®§‡©á ‡®õ‡©±‡®°‡©ã (iPhone/Android/PC)</div>

<!-- Names -->
<div class="container" id="names">
  <div class="name" data-match="‡•§">‡®°‡©∞‡®°‡©Ä</div>
  <div class="name" data-match="?">‡®™‡©ç‡®∞‡®∂‡®®-‡®ö‡®ø‡©∞‡®®‡©ç‡®π</div>
  <div class="name" data-match="!">‡®µ‡®ø‡®∏‡®Æ‡®ï-‡®ö‡®ø‡©∞‡®®‡©ç‡®π</div>
  <div class="name" data-match=",">‡®ï‡®æ‡®Æ‡®æ</div>
  <div class="name" data-match=";">‡®¨‡®ø‡©∞‡®¶‡©Ä-‡®ï‡®æ‡®Æ‡®æ</div>
  <div class="name" data-match="&quot; &quot;">‡®™‡©Å‡©±‡®†‡©á ‡®ï‡®æ‡®Æ‡©á</div>
  <div class="name" data-match=":">‡®¶‡©Å‡®¨‡®ø‡©∞‡®¶‡©Ä</div>
  <div class="name" data-match=":-">‡®¶‡©Å‡®¨‡®ø‡©∞‡®¶‡©Ä ‡®°‡©à‡®∂</div>
  <div class="name" data-match="-">‡®ú‡©ã‡©ú‡®®‡©Ä</div>
  <div class="name" data-match="'">‡®õ‡©Å‡©±‡®ü-‡®Æ‡®∞‡©ã‡©ú‡©Ä</div>
  <div class="name" data-match="‚Äî">‡®°‡©à‡®∂</div>
  <div class="name" data-match=".">‡®¨‡®ø‡©∞‡®¶‡©Ä</div>
  <div class="name" data-match="( )">‡®¨‡®∞‡©à‡®ï‡®ü</div>
</div>

<!-- Symbols -->
<div class="container" id="symbols">
  <div class="star" data-symbol="‡•§">‡•§</div>
  <div class="star" data-symbol="?">?</div>
  <div class="star" data-symbol="!">!</div>
  <div class="star" data-symbol=",">,</div>
  <div class="star" data-symbol=";">;</div>
  <div class="star" data-symbol="&quot; &quot;">" "</div>
  <div class="star" data-symbol=":">:</div>
  <div class="star" data-symbol=":-">:-</div>
  <div class="star" data-symbol="-">-</div>
  <div class="star" data-symbol="'">'</div>
  <div class="star" data-symbol="‚Äî">‚Äî</div>
  <div class="star" data-symbol=".">.</div>
  <div class="star" data-symbol="( )">( )</div>
</div>

<footer>üì± iPhone ¬∑ Android ¬∑ PC ¬∑ Projector</footer>

<!-- Sounds -->
<audio id="correctSound" preload="auto">
  <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_6d7a28c16c.mp3">
</audio>
<audio id="wrongSound" preload="auto">
  <source src="https://cdn.pixabay.com/audio/2022/03/10/audio_0c3b88a5c4.mp3">
</audio>

<script>
  /* shuffle */
  function shuffle(c){
    [...c.children].sort(()=>Math.random()-0.5).forEach(e=>c.appendChild(e));
  }
  shuffle(document.getElementById("names"));
  shuffle(document.getElementById("symbols"));

  /* sound unlock (iPhone needs a tap first) */
  const correctSound=document.getElementById("correctSound");
  const wrongSound=document.getElementById("wrongSound");
  function unlock(){
    correctSound.play().then(()=>{correctSound.pause(); correctSound.currentTime=0;}).catch(()=>{});
  }
  document.addEventListener("touchstart", unlock, {once:true});
  document.addEventListener("click", unlock, {once:true});

  /* Mobile-safe drag using Pointer Events + DROP FIX */
  document.querySelectorAll(".name").forEach(item=>{
    let startX=0, startY=0, dx=0, dy=0, dragging=false;

    item.addEventListener("pointerdown", e=>{
      dragging=true;
      item.setPointerCapture(e.pointerId);
      startX=e.clientX;
      startY=e.clientY;
      item.style.zIndex=9999;

      // ‚úÖ KEY FIX: allow detecting star under the finger
      item.style.pointerEvents = "none";

      e.preventDefault();
    });

    item.addEventListener("pointermove", e=>{
      if(!dragging) return;
      dx = e.clientX - startX;
      dy = e.clientY - startY;
      item.style.transform = `translate(${dx}px, ${dy}px)`;
      e.preventDefault();
    });

    item.addEventListener("pointerup", e=>{
      if(!dragging) return;
      dragging=false;
      try{ item.releasePointerCapture(e.pointerId); }catch(_){}

      // ‚úÖ restore click/tap on the item
      item.style.pointerEvents = "auto";

      const target = document.elementFromPoint(e.clientX, e.clientY);
      const star = target ? target.closest(".star") : null;

      if(star && star.dataset.symbol === item.dataset.match){
        star.classList.add("correct");
        star.textContent = item.textContent; // show name inside star
        item.style.display="none";           // hide word after correct

        correctSound.currentTime=0;
        correctSound.play().catch(()=>{});
      }else{
        item.style.transform=""; // reset position
        wrongSound.currentTime=0;
        wrongSound.play().catch(()=>{});
      }

      item.style.zIndex="";
      e.preventDefault();
    });

    item.addEventListener("pointercancel", ()=>{
      dragging=false;
      item.style.pointerEvents="auto";
      item.style.transform="";
      item.style.zIndex="";
    });
  });
</script>

</body>
</html>
